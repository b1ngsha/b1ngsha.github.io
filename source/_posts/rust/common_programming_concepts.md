---
title: The Rust Programming Languageï¼šCommon Programming Concepts
date: 2025-08-29 00:11:35
tags: Rust
categories: Rust
---
æœ¬ç« å°†è®²è¿°ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡ ä¹æ‰€æœ‰åŸºæœ¬æ¦‚å¿µï¼Œå¹¶æè¿°å®ƒä»¬åœ¨Rustä¸­çš„å·¥ä½œæ–¹å¼ã€‚

## Variables and Mutability
æ­£å¦‚ä¹‹å‰çš„ç« èŠ‚æ‰€è¯´çš„é‚£æ ·ï¼Œåœ¨Rustä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚è¿™æ˜¯Rustæ¨èçš„ä¸€ç§åšæ³•ï¼Œæ—¨åœ¨è®©ä½ ä»¥ä¸€ç§åˆ©ç”¨Rustæä¾›çš„å®‰å…¨æ€§å’Œç®€ä¾¿å¼€å‘æ€§çš„æ–¹å¼ç¼–å†™ä»£ç ã€‚
å½“ä¸€ä¸ªå˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”ç»‘å®šäº†ä¸€ä¸ªå€¼åï¼Œä½ å°±ä¸èƒ½å†æ”¹å˜å®ƒçš„å€¼äº†ï¼š
```rust
fn main() {
    let x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}
```
æ­¤æ—¶æ‰§è¡Œ`cargo run`ï¼Œä½ å°±ä¼šæ”¶åˆ°ä¸€ä¸ªå¼‚å¸¸ä¿¡æ¯ï¼š
```shell
$ cargo run          
   Compiling variables v0.1.0 (/path/to/your/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --> src/main.rs:4:5
  |
2 |     let x = 5;
  |         - first assignment to `x`
3 |     println!("The value of x is: {x}");
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable
  |
help: consider making this binding mutable
  |
2 |     let mut x = 5;
  |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```
å½“æˆ‘ä»¬å°è¯•æ”¹å˜ä¸€ä¸ªä¸å¯å˜çš„å˜é‡æ—¶ï¼Œå‡ºç°ç¼–è¯‘æ—¶é”™è¯¯æ˜¯å¾ˆé‡è¦çš„ã€‚å¦‚æœæˆ‘ä»¬çš„ä»£ç å‡è®¾æŸä¸ªå€¼æ°¸è¿œä¸ä¼šè¢«æ”¹å˜ï¼Œä½†æ˜¯åœ¨å…¶ä»–åœ°æ–¹å´æ”¹å˜äº†è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆå°±è¯´æ˜ä»£ç å¯èƒ½è„±ç¦»äº†åŸæœ¬çš„è®¾è®¡ã€‚è¿™ç±»é”™è¯¯å¯èƒ½å¾ˆéš¾è¿½è¸ªï¼Œç‰¹åˆ«æ˜¯ä»…åœ¨æŸäº›æƒ…å†µä¸‹æ‰ä¿®æ”¹å˜é‡å€¼çš„æ—¶å€™ã€‚Rustä¿è¯å½“ä½ å£°æ˜äº†ä¸€ä¸ªå€¼ä¸ä¼šæ”¹å˜æ—¶ï¼Œå®ƒå°±ä¸€å®šä¸ä¼šè¢«æ”¹å˜ï¼Œè¿™æ ·ä½ å°±ä¸å¿…è‡ªå·±å»å®šä½è¿™ç±»é”™è¯¯ã€‚

ä½†æ˜¯å¯å˜æ€§æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œåƒä¸Šä¸€ç« ä¸­æåˆ°çš„é‚£æ ·ï¼Œä½ å¯ä»¥åœ¨å˜é‡åä¹‹å‰æ·»åŠ `mut`å…³é”®å­—æ¥è®©å…¶å¯å˜ï¼š
```rust
fn main() {
    let mut x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}
```
è¿™æ ·å°±å¯ä»¥æ­£å¸¸ä¿®æ”¹å˜é‡å€¼äº†ï¼š
```shell
$ cargo run
   Compiling variables v0.1.0 (/path/to/your/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.35s
     Running `target/debug/variables`
The value of x is: 5
The value of x is: 6
```

### Constants
ä¸ä¸å¯å˜çš„å˜é‡ç±»ä¼¼ï¼Œå¸¸é‡ä¹Ÿæ˜¯ä¸åç§°ç»‘å®šåå°±ä¸èƒ½å†è¢«æ”¹å˜çš„å€¼ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´è¿˜æ˜¯å­˜åœ¨ä¸€äº›å·®å¼‚çš„ï¼š
1. ä½ ä¸èƒ½åœ¨å¸¸é‡ä¸Šä½¿ç”¨`mut`ï¼Œå®ƒä»¬å°±åªèƒ½æ˜¯ä¸å¯å˜çš„ã€‚ä½ éœ€è¦åœ¨å®šä¹‰å¸¸é‡çš„æ—¶å€™ä½¿ç”¨`const`è€Œä¸æ˜¯`let`ï¼Œå¹¶ä¸”**å¿…é¡»æ˜¾å¼å£°æ˜ç±»å‹**ã€‚
2. å¸¸é‡å¯ä»¥åœ¨ä»»æ„ä½œç”¨åŸŸä¸‹å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸã€‚
3. å¸¸é‡åªèƒ½è¢«èµ‹å€¼ä¸ºå¸¸é‡è¡¨è¾¾å¼ï¼Œä¸èƒ½æ˜¯åœ¨è¿è¡Œæ—¶è®¡ç®—å‡ºæ¥çš„ç»“æœã€‚
ä¸€ä¸ªå¸¸é‡å£°æ˜çš„ä¾‹å­ï¼š
```rust
const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
```
Rustå¯¹äºå¸¸é‡çš„å‘½åè§„èŒƒä¸€èˆ¬æ˜¯å…¨å¤§å†™åŠ ä¸‹åˆ’çº¿çš„æ–¹å¼ã€‚
å¸¸é‡åœ¨ç¨‹åºè¿è¡Œçš„æ•´ä¸ªæ—¶é—´éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä½œç”¨èŒƒå›´åˆ™åœ¨å…¶è¢«å£°æ˜çš„ä½œç”¨åŸŸå†…ã€‚

### Shadowing
å°±åƒåœ¨ç¬¬äºŒç« ä¸­æåˆ°çš„é‚£æ ·ï¼Œä½ å¯ä»¥åœ¨å®šä¹‰å®Œä¸€ä¸ªå˜é‡åå®šä¹‰ä¸€ä¸ªåŒåçš„å˜é‡ï¼Œè¿™åœ¨Rustä¸­è¢«ç§°ä¸ºç¬¬ä¸€ä¸ªå˜é‡è¢«ç¬¬äºŒä¸ªå˜é‡æ‰€è¦†ç›–ï¼ˆshadowedï¼‰äº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªç›¸åŒçš„å˜é‡åæ¥è¦†ç›–ä¸€ä¸ªå˜é‡ï¼š
```rust
fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!("The value of x in the inner scope is: {x}");
    }

    println!("The value of x is: {x}");
}
```
åœ¨è¿™æ®µç¨‹åºä¸­ï¼Œ`x`é¦–å…ˆè¢«èµ‹å€¼ä¸º`5`ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡`x`ï¼Œåˆå§‹åŒ–ä¸º`x + 1`ä¹Ÿå°±æ˜¯6ã€‚ç„¶åï¼Œåœ¨ä¸€ä¸ªå†…éƒ¨ä½œç”¨åŸŸä¸­ï¼Œæˆ‘ä»¬å†æ¬¡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åŒåå˜é‡ï¼Œå¹¶åˆå§‹åŒ–ä¸º`x * 2`ï¼Œä¹Ÿå°±æ˜¯12ã€‚åœ¨è¿™ä¸ªä½œç”¨åŸŸç»“æŸåï¼Œè¿™ä¸ªshadowå°±è¢«é”€æ¯äº†ï¼Œ`x`çš„å€¼é‡æ–°å˜ä¸ºäº†`6`ã€‚å› æ­¤ç¨‹åºçš„è¾“å‡ºç»“æœä¸ºï¼š
```shell
$ cargo run
   Compiling variables v0.1.0 (/path/to/your/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.25s
     Running `target/debug/variables`
The value of x in the inner scope is: 12
The value of x is: 6
```
shadowä¸`mut`æ˜¯ä¸åŒçš„ï¼Œåœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨`let`å…³é”®å­—æ¥é‡æ–°å¯¹`x`è¿›è¡Œèµ‹å€¼çš„è¯ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘æ—¶é”™è¯¯ã€‚é€šè¿‡shadowè¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å€¼è¿›è¡Œä¸€äº›è½¬æ¢ï¼Œä½†åœ¨è¿™äº›è½¬æ¢å®Œæˆåå˜é‡ä»ç„¶æ˜¯ä¸å¯å˜çš„ã€‚
å¦ä¸€ä¸ªä¸åŒç‚¹æ˜¯ï¼Œå› ä¸ºåœ¨shadowè¿™ç§æ–¹å¼ä¸­æˆ‘ä»¬å®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œåªæ˜¯å¤ç”¨äº†ç›¸åŒçš„å˜é‡åï¼Œå› æ­¤æˆ‘ä»¬æ˜¯å¯ä»¥æ›´æ”¹å˜é‡çš„æ•°æ®ç±»å‹çš„ã€‚ä¾‹å¦‚ï¼š
```rust
let spaces = "   ";
let spaces = spaces.len();
```
å¯ä»¥çœ‹åˆ°ï¼Œ`spaces`ä»å­—ç¬¦ä¸²ç±»å‹è¢«ä¿®æ”¹ä¸ºäº†æ•°å­—ç±»å‹ã€‚è¿™è¯´æ˜shadowè®©æˆ‘ä»¬å¯ä»¥ä¸å†å®šä¹‰å„ç§åƒ`spaces_str`ï¼Œ`spaces_num`è¿™æ ·çš„å˜é‡ï¼Œè€Œæ˜¯å¯ä»¥ä¸€ç›´ä½¿ç”¨`spaces`ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨`mut`ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘æ—¶é”™è¯¯ï¼š
```rust
let mut spaces = "   ";
spaces = spaces.len();
```
æŠ¥é”™ä¿¡æ¯æ˜¾ç¤ºæˆ‘ä»¬ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼š
```shell
$ cargo run
   Compiling variables v0.1.0 (/path/to/your/variables)
error[E0308]: mismatched types
  --> src/main.rs:26:14
   |
25 |     let mut spaces = "   ";
   |                      ----- expected due to this value
26 |     spaces = spaces.len();
   |              ^^^^^^^^^^^^ expected `&str`, found `usize`

For more information about this error, try `rustc --explain E0308`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

## Data Types
Rustæ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€å®ƒå¿…é¡»åœ¨ç¼–è¯‘æœŸçŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚ç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ ¹æ®å€¼ä»¥åŠæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒæ¥æ¨æ–­æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„ç±»å‹ã€‚ä½†æ˜¯å½“å¾ˆå¤šç±»å‹éƒ½æ˜¯å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¾å¼å£°æ˜å®ƒï¼Œåƒè¿™æ ·ï¼š
```rust
let guess: u32 = "42".parse().expect("Not a number!");
```
å¦‚æœæ²¡æœ‰åŠ `: u32`è¿™ä¸ªç±»å‹æ³¨é‡Šçš„è¯ï¼Œå°±ä¼šäº§ç”Ÿå¦‚ä¸‹æŠ¥é”™ï¼Œè¿™è¯´æ˜Rustéœ€è¦ä»æˆ‘ä»¬è¿™é‡Œè·å–æ›´å¤šä¿¡æ¯æ¥çŸ¥é“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨å“ªç§æ•°æ®ç±»å‹ï¼š
```shell
$ cargo build
   Compiling variables v0.1.0 (/path/to/your/variables)
error[E0284]: type annotations needed
  --> src/main.rs:30:9
   |
30 |     let guess = "42".parse().expect("Not a number!");
   |         ^^^^^        ----- type must be known at this point
   |
   = note: cannot satisfy `<_ as FromStr>::Err == _`
help: consider giving `guess` an explicit type
   |
30 |     let guess: /* Type */ = "42".parse().expect("Not a number!");
   |              ++++++++++++

For more information about this error, try `rustc --explain E0284`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

### Scalar Types
æ ‡é‡ç±»å‹ï¼ˆscalar typeï¼‰ä»£è¡¨å•ä¸ªå€¼ã€‚Rustæœ‰å››ç§ä¸»è¦çš„æ ‡é‡ç±»å‹ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼å’Œå­—ç¬¦ã€‚

#### Integer Types
| Length  | Signed  | Unsigned |
| ------- | ------- | -------- |
| 8-bit   | `i8`    | `u8`     |
| 16-bit  | `i16`   | `u16`    |
| 32-bit  | `i32`   | `u32`    |
| 64-bit  | `i64`   | `u64`    |
| 128-bit | `i128`  | `u128`   |
| arch    | `isize` | `usize`  |
å…¶ä¸­ï¼Œ`isize`å’Œ`usize`ç±»å‹å–å†³äºç¨‹åºè¿è¡Œçš„è®¡ç®—æœºæ¶æ„ï¼Œå¦‚æœåœ¨`64`ä½æ¶æ„ä¸Šï¼Œåˆ™ä¸º`64`ä½ï¼Œå¦åˆ™ä¸º`32`ä½ã€‚

|Number literals|Example|
|---|---|
|Decimal|`98_222`|
|Hex|`0xff`|
|Octal|`0o77`|
|Binary|`0b1111_0000`|
|Byte (`u8`Â only)|`b'A'`|
å¯ä»¥ç”¨ä»¥ä¸Šæ–¹å¼æ¥å£°æ˜ä¸åŒè¿›åˆ¶çš„å­—é¢é‡ï¼Œæ­¤å¤–ï¼Œå¯ä»¥åœ¨æ•°å­—å­—é¢é‡ä¸Šæ·»åŠ ä¸€ä¸ªåç¼€æ¥æŒ‡å®šç±»å‹ï¼Œä¾‹å¦‚`57u8`ã€‚ä¹Ÿå¯ä»¥ç”¨`_`æ¥åˆ’åˆ†æ•°å­—ä½¿å…¶ä¾¿äºé˜…è¯»ï¼Œä¾‹å¦‚`1_000`ã€‚
**å¯¹äº`integer`è€Œè¨€ï¼ŒRustçš„é»˜è®¤ç±»å‹ä¸º`i32`**ã€‚
> Integer Overflow
> overflowæ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ã€‚åœ¨Rustå½“ä¸­ï¼Œå¦‚æœä½ åœ¨`debug`æ¨¡å¼ä¸‹ç¼–è¯‘ï¼Œé‚£ä¹ˆoverflowä¼šé€ æˆç¨‹åºåœ¨è¿è¡Œæ—¶`panic`ã€‚è€Œå¦‚æœä½ åœ¨`release`æ¨¡å¼ä¸‹ç¼–è¯‘ï¼Œåˆ™ä¼šè¿›è¡Œ`two's complement wrapping`ï¼ˆäºŒçš„è¡¥ç åŒ…è£…..?ï¼‰ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¦‚æœåœ¨`u8`è¿™ä¸ªç±»å‹ä¸‹ï¼Œ256å°†å˜ä¸º0ï¼Œ257å°†å˜ä¸º1ã€‚
> ä¸ºäº†æ˜ç¡®å¤„ç†æº¢å‡ºçš„å¯èƒ½æ€§ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†åº“ä¸ºåŸºæœ¬æ•°å­—ç±»å‹æä¾›çš„è¿™äº›æ–¹æ³•ï¼š
> 1. åœ¨æ‰€æœ‰æ¨¡å¼ä¸­ç”¨`wrapping_*`æ–¹æ³•è¿›è¡ŒåŒ…è£¹ï¼›
> 2. åœ¨ä½¿ç”¨`checked_*`æ–¹æ³•æ—¶ï¼Œå¦‚æœå‘ç”Ÿæº¢å‡ºï¼Œåˆ™è¿”å›`None`ï¼›
> 3. ä½¿ç”¨`overflowing_*`æ–¹æ³•è¿”å›å€¼å’Œä¸€ä¸ªboolæ¥æŒ‡ç¤ºæ˜¯å¦å‘ç”Ÿäº†æº¢å‡ºï¼›
> 4. ä½¿ç”¨`saturating_*`æ–¹æ³•åœ¨å€¼çš„æœ€å¤§å€¼å’Œæœ€å°å€¼å¤„é¥±å’Œï¼ˆsaturateï¼Œä¹Ÿå°±æ˜¯åœ¨è¶…è¿‡æœ€å€¼æ—¶ä¸å†å¢åŠ /å‡å°‘ï¼Œè€Œæ˜¯ä¿æŒåœ¨æœ€å€¼ï¼‰ã€‚

#### Floating-Point Types
RuståŒ…å«ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹ï¼š`f32`å’Œ`f64`ã€‚é»˜è®¤ç±»å‹ä¸º`f64`ã€‚
```rust
fn main() {
    let x = 2.0; // f64
    
    let y: f32 = 3.0; // f32
}
```

#### Numeric Operations
Rustæ”¯æŒåŠ å‡ä¹˜é™¤è¿™äº›åŸºæœ¬æ•°å­¦è¿ç®—ã€‚æ•´æ•°è¿ç®—ä¼šå‘é›¶å–æ•´ã€‚
```rust
fn main() {
    // addition
    let sum = 5 + 10;
    
    // subtraction
    let difference = 95.5 - 4.3;
    
    // multiplication
	let product = 4 * 30;
	
	// division
	let quotient = 56.7 / 32.2;
	let truncated = -5 / 3; // Results in -1
	// remainder
	let remainder = 43 % 5;
}
```

#### The Boolean Type
Rustçš„å¸ƒå°”ç±»å‹ä¸º`bool`ï¼Œè·Ÿå…¶ä»–ç¼–ç¨‹è¯­è¨€åŒæ ·åŒ…å«`true`å’Œ`false`ï¼Œå¤§å°ä¸ºä¸€ä¸ªå­—èŠ‚ã€‚
```rust
fn main() {
	let t = true;
	let f: bool = false; // with explicit type annotaion
}
```

#### The Character Type
Rustçš„`char`ç±»å‹æ˜¯æœ€åŸå§‹çš„å­—ç¬¦ç±»å‹ã€‚
```rust
fn main() {
	let c = 'z';
	let z: char = 'â„¤'; // with explicit type annotation
	let heart_eyed_cat = 'ğŸ˜»';
}
```
å­—ç¬¦ç”¨çš„æ˜¯å•å¼•å·ï¼Œå­—ç¬¦ä¸²æ˜¯åŒå¼•å·ã€‚å­—ç¬¦ç±»å‹çš„å¤§å°ä¸º4ä¸ªå­—èŠ‚ï¼Œå¹¶è¡¨ç¤ºUnicodeæ ‡é‡å€¼ã€‚è¿™æ„å‘³ç€å®ƒå¯ä»¥è¡¨ç¤ºæ¯”ASCIIæ›´å¤šçš„å†…å®¹ã€‚Unicodeæ ‡é‡å€¼çš„èŒƒå›´ä»`U+0000`åˆ°`U+D7FF`ï¼Œä»¥åŠ`U+E000`åˆ°`U+10FFFF`ã€‚ç„¶è€Œï¼Œå­—ç¬¦åœ¨Unicodeä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ¦‚å¿µï¼Œå› æ­¤æˆ‘ä»¬å¯¹å­—ç¬¦çš„äººç±»ç›´è§‰å¯èƒ½ä¸Rustä¸­çš„å­—ç¬¦å¹¶ä¸å»åˆã€‚æˆ‘ä»¬å°†åœ¨æ›´åé¢çš„ç« èŠ‚é‡Œè®¨è®ºå®ƒã€‚

### Compound Types
Rustä¸»è¦æœ‰ä¸¤ç§å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtuplesï¼‰å’Œæ•°ç»„ï¼ˆarraysï¼‰ã€‚

#### The Tuple Type
`tuple`æ˜¯ä¸€ç§å°†ä¸€äº›ä¸åŒç±»å‹çš„å€¼ç»„åˆåˆ°ä¸€èµ·çš„æ–¹å¼ã€‚å®ƒæ˜¯å®šé•¿çš„ã€‚
ä¸€ä¸ªå®šä¹‰`tuple`çš„ç¤ºä¾‹ï¼š
```rust
fn main() {
	let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```
å’Œå˜é‡çš„å®šä¹‰ç±»ä¼¼ï¼Œè¿™é‡Œçš„ç±»å‹æ³¨è§£æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸å†™çš„è¯å°±ä¼šåšç±»å‹æ¨æ–­ã€‚
å¦‚æœæƒ³è·å–æ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨`destructuring`è¿™ç§æ–¹å¼ï¼š
```rust
fn main() {
	let tup = (500, 6.4, 1);

	let (x, y, z) = tup;

	println!("The value of y is: {y}");
}
```
æ›´ç®€å•çš„æ–¹å¼æ˜¯é€šè¿‡`.`+ä¸‹æ ‡æ¥å–å€¼ï¼š
```rust
fn main() {
	let x: (i32, f64, u8) = (500, 6.4, 1);

	let five_hundred = x.0;

	let six_point_four = x.1;

	let one = x.2;
}
```
æ²¡æœ‰ä»»ä½•å€¼çš„`tuple`æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åç§°ï¼Œè¢«ç§°ä¸º`unit`ï¼ˆå•å…ƒï¼‰ã€‚è¿™ç§å€¼åŠå…¶å¯¹åº”çš„ç±»å‹éƒ½å†™ä½œ`()`ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºå€¼æˆ–è€…æ˜¯ç©ºè¿”å›ç±»å‹ã€‚å¦‚æœè¡¨è¾¾å¼æ²¡æœ‰è¿”å›ä»»ä½•å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›ä¸€ä¸ª`unit`ã€‚

#### The Array Type
å¦ä¸€ç§æ–¹å¼åˆ™æ˜¯`array`ã€‚ä¸åŒçš„æ˜¯ï¼Œ`array`å½“ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½åº”è¯¥æ˜¯ç›¸åŒçš„ç±»å‹ã€‚å¹¶ä¸”Rustä¸­çš„`array`æ˜¯å®šé•¿çš„ã€‚
```rust
fn main() {
	let a = [1, 2, 3, 4, 5];
}
```
å½“ä½ æƒ³è¦å°†æ•°æ®åˆ†é…åˆ°æ ˆä¸Šï¼Œæˆ–è€…æ˜¯æƒ³è¦ä¸€ä¸ªå›ºå®šæ•°ç›®çš„å…ƒç´ æ—¶ï¼Œ`array`æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚åˆ°ç›®å‰æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ‰€æœ‰ç±»å‹éƒ½æ˜¯åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œè€Œä¸æ˜¯å †ã€‚
æ ‡å‡†åº“ä¸­çš„`vector`ä¸`array`ç±»ä¼¼ï¼Œä½†å®ƒçš„é•¿åº¦æ˜¯å¯ä¼¸ç¼©çš„ã€‚å¦‚æœä½ ä¸çŸ¥é“æ˜¯ä½¿ç”¨`array`è¿˜æ˜¯`vector`ï¼Œä¸€èˆ¬æ¥è¯´ä½ éƒ½åº”è¯¥ä½¿ç”¨`vector`ã€‚
ç„¶è€Œï¼Œå¦‚æœä½ çŸ¥é“å…ƒç´ çš„æ•°é‡å¹¶ä¸”ä¸éœ€è¦ä¿®æ”¹æ—¶ï¼Œ`array`æ˜¯æ¯”`vector`æ›´æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼š
```rust
let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
```
ä¸€ä¸ªæ˜¾å¼å®šä¹‰`array`çš„å…ƒç´ ç±»å‹å’Œé•¿åº¦çš„ä¾‹å­ï¼š
```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```
ä½ ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼çš„æ–¹å¼ï¼Œåˆå§‹åŒ–ä¸€ä¸ªæ‰€æœ‰å…ƒç´ éƒ½æ˜¯ç›¸åŒçš„å€¼çš„`array`ï¼š
```rust
let a = [3; 5];
```
è¿™ä¸`let a = [3, 3, 3, 3, 3]`ç›¸åŒã€‚

`array`çš„å–å€¼æ–¹å¼ä¸å…¶ä»–è¯­è¨€ç›¸åŒï¼š
```rust
fn main() {
	let a = [1, 2, 3, 4, 5];

	let first = a[0];
	let second = a[1];
}
```

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚æœäº§ç”Ÿäº†æ•°ç»„çš„è¶Šç•Œè®¿é—®ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä»¥å¦‚ä¸‹ç¨‹åºä¸ºä¾‹ï¼š
```rust
use std::io;

fn main() {
	let a = [1, 2, 3, 4, 5];

	println!("Please enter an array index.");

	let mut index = String::new();

	io::stdin()
		.read_line(&mut index)
		.expect("Failed to read line");

	let index: usize = index
		.trim()
		.parse()
		.expect("Index entered was not a number");

	let element = a[index];
	
	println!("The value of the element at index {index} is: {element}")
}
```
å½“è¾“å…¥çš„æ•°å­—ä¸º10çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå¦‚ä¸‹æŠ¥é”™ï¼š
```shell
$ cargo run  
   Compiling variables v0.1.0 (/path/to/your/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.46s
     Running `target/debug/variables`
Please enter an array index.
10

thread 'main' panicked at src/main.rs:81:19:
index out of bounds: the len is 5 but the index is 10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸å…¶ä»–æ›´è´´è¿‘åº•å±‚çš„ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œå½“äº§ç”Ÿæ•°ç»„è¶Šç•Œæ—¶ï¼Œè¿™é‡Œç›´æ¥æŠ›å‡ºäº†ä¸€ä¸ªè¿è¡Œæ—¶çš„å¼‚å¸¸ï¼Œè€Œä¸æ˜¯å…è®¸ç¨‹åºç›´æ¥è®¿é—®è¿™å—æœªè¢«åˆ†é…çš„å†…å­˜åŒºåŸŸå¹¶ç»§ç»­æ‰§è¡Œï¼Œè¿™ä½“ç°äº†Rustçš„å†…å­˜å®‰å…¨åŸåˆ™ã€‚

# Functions
Rustä½¿ç”¨`snake case`ä½œä¸ºå˜é‡å’Œå‡½æ•°ç»Ÿä¸€çš„å‘½åæ–¹å¼ï¼Œä¹Ÿå°±æ˜¯å¹³æ—¶æ‰€è¯´çš„â€œä¸‹åˆ’çº¿å‘½åâ€ã€‚
```rust
fn main() {
	println!("Hello, world!");

	another_function();
}

fn another_function() {
	println!("Another Function").
}
```
åŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œ`another_function`æ˜¯åœ¨`main`ä¹‹åå®šä¹‰çš„ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥åœ¨`main`ä¸­è¿›è¡Œè°ƒç”¨ã€‚è¿™æ„å‘³ç€Rustä¸åœ¨ä¹ä½ åœ¨å“ªé‡Œå®šä¹‰å‡½æ•°ï¼Œåªè¦å®ƒä»¬åœ¨è°ƒç”¨è€…èƒ½å¤Ÿâ€œçœ‹è§â€çš„èŒƒå›´å†…å³å¯ã€‚

#### Parameters
```rust
fn main() {
	another_function(5);
}

fn another_function(x: i32) {
	println!("The value of x is: {x}");
}
```
åœ¨å‡½æ•°ç­¾åä¸­ï¼Œä½ å¿…é¡»å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿™æ„å‘³ç€ç¼–è¯‘å™¨å‡ ä¹ä¸éœ€è¦ä½ åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹ä½¿ç”¨å®ƒä»¬æ¥å¼„æ¸…æ¥šä½ æƒ³ä½¿ç”¨ä»€ä¹ˆç±»å‹ï¼ŒåŒæ—¶å¦‚æœç¼–è¯‘å™¨çŸ¥é“å‚æ•°æœŸæœ›ä»€ä¹ˆç±»å‹ï¼Œå®ƒä¹Ÿèƒ½æä¾›æ›´æœ‰å¸®åŠ©çš„é”™è¯¯ä¿¡æ¯ã€‚

ä½ å¯ä»¥åƒè¿™æ ·å®šä¹‰å¤šä¸ªå‚æ•°ï¼š
```rust
fn main() {
	print_labeled_measurement(5, 'h');
}

fn print_labeled_measurement(value: i32, unit_label: char) {
	println!("The measurement is: {value}{unit_label}");
}
```

### Statements and Expressions
Rustæ˜¯ä¸€ä¸ªåŸºäºè¡¨è¾¾å¼çš„è¯­è¨€ï¼Œè¿™ä¸€ç‚¹éå¸¸å€¼å¾—ç†è§£ã€‚
- è¯­å¥ï¼ˆStatementsï¼‰æ˜¯æ‰§è¡ŒæŸäº›æ“ä½œå¹¶ä¸”ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚
- è¡¨è¾¾å¼ï¼ˆExpressionsï¼‰æ˜¯ä¼šè®¡ç®—å‡ºä¸€ä¸ªç»“æœå€¼çš„ã€‚
ä¾‹å¦‚ï¼Œ`let y = 6;`å°±æ˜¯ä¸€ä¸ªè¯­å¥ã€‚å‡½æ•°çš„å®šä¹‰ä¹Ÿæ˜¯è¯­å¥ã€‚
ç”±äºè¯­å¥ä¸è¿”å›å€¼ï¼Œå› æ­¤ä½ ä¸èƒ½å°†ä¸€ä¸ª`let`è¯­å¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œå°±åƒè¿™æ ·æ˜¯ä¼šäº§ç”Ÿé”™è¯¯çš„ï¼š
```rust
fn main() {
	let x = (let y = 6);
}
```
å¯¹äºè¡¨è¾¾å¼è€Œè¨€ï¼Œé™¤äº†å¸¸è§„çš„è¡¨è¾¾å¼å¤–ï¼Œä¸€ä¸ªä»£ç å—ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š
```rust
fn main() {
	let y = {
		let x = 3;
		x + 1
	};
	println!("The value of y is: {y}");
}
```
æ­¤æ—¶`y`çš„å€¼ä¸º`4`ã€‚å¯ä»¥çœ‹åˆ°åœ¨ä»£ç å—çš„æœ€åä¸€è¡Œä¸­ï¼Œ`x + 1`æ˜¯æ²¡æœ‰ä»¥åˆ†å·ç»“å°¾çš„ï¼Œè¿™è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¦åˆ™å°±è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œè¯­å¥æ˜¯ä¸ä¼šè¿”å›å€¼çš„ã€‚

### Functions with Return Values
æˆ‘ä»¬ä¸éœ€è¦ç»™å‡½æ•°çš„è¿”å›å€¼å‘½åï¼Œä½†æ˜¯å¿…é¡»é€šè¿‡`->`æ¥å£°æ˜å®ƒä»¬çš„ç±»å‹ã€‚åœ¨Rustä¸­ï¼Œå‡½æ•°çš„è¿”å›å€¼è¿”å›å€¼ç­‰åŒäºå‡½æ•°ä¸­æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚ä½ å¯ä»¥é€šè¿‡`return`ææ—©è¿”å›ï¼Œä½†å¤§éƒ¨åˆ†çš„å‡½æ•°éƒ½ä¼šéšå¼åœ°è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚
```rust
fn five() -> i32 {
	5
}

fn main() {
	let x = five();

	println!("The value of x is: {x}");
}
```
`five`å‡½æ•°ä¸­çš„`5`å°±æ˜¯å®ƒçš„è¿”å›å€¼ï¼Œç±»å‹ä¸º`i32`ã€‚

# Comments
Rustçš„æ³¨é‡Šæ–¹å¼ä¸ºï¼š`// comment`ã€‚å•è¡Œå’Œå¤šè¡Œæ³¨é‡Šéƒ½ç”¨è¿™ç§æ–¹å¼ã€‚å¯¹äºæ–‡æ¡£æ³¨é‡Šï¼Œæˆ‘ä»¬å°†ä¼šåœ¨åç»­çš„ç« èŠ‚ä¸­è¿›è¡Œè®¨è®ºã€‚

# Control Flow
## `if` Expressions
`if-else`æ¡ä»¶åˆ†æ”¯ä¸å…¶ä»–è¯­è¨€ä¸­ç±»ä¼¼ã€‚å› æ­¤åªé‡ç‚¹çœ‹ä¸€ä¸‹ä¸åŒçš„éƒ¨åˆ†ã€‚
`if`ä¸­çš„æ¡ä»¶å¿…é¡»æ˜¯ä¸€ä¸ª`bool`ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªå€¼ï¼Œå¦åˆ™ä¼šäº§ç”ŸæŠ¥é”™ï¼š
```rust
fn main() {
	let number = 3;

	if number {
		println!("number was three");
	}
}
```
è¿™é‡Œä¸èƒ½è‡ªåŠ¨å°†`number`è½¬æ¢ä¸º`bool`ï¼Œéœ€è¦æ˜¾å¼åœ°ä¿®æ”¹ä¸º`number != 0`è¿™ç§æ–¹å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶ã€‚

### Using `if` in a `let` Statement
ç”±äº`if`æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¾åœ¨`let`è¡¨è¾¾å¼çš„å³è¾¹ï¼Œç”¨æ¥ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ï¼š
```rust
fn main() {
	let condition = true;
	let number = if condition { 5 } else { 6 };

	println!("The value of number is: {number}");
}
```
å¯¹äº`if`çš„æ¯ä¸ªåˆ†æ”¯ï¼Œå®ƒä»¬çš„ç»“æœéƒ½éœ€è¦æ˜¯ç›¸åŒçš„ç±»å‹ã€‚å¯¹äºä»¥ä¸Šçš„ç¤ºä¾‹æ¥è¯´ï¼Œå®ƒä»¬çš„ç±»å‹éƒ½æ˜¯`i32`ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”ŸæŠ¥é”™ï¼š
```rust
fn main() {
	let condition = true;
	let number = if condition { 5 } else { "six" };

	println!("The value of number is: {number}");
}
```
å› ä¸ºRustéœ€è¦åœ¨ç¼–è¯‘æœŸçŸ¥é“`number`è¿™ä¸ªå˜é‡çš„ç±»å‹ï¼Œè¿™å¯ä»¥è®©ç¼–è¯‘å™¨ä¿è¯åœ¨æˆ‘ä»¬ä½¿ç”¨`number`çš„ä»»ä½•åœ°æ–¹å®ƒçš„ç±»å‹éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚è€Œå¦‚æœå®ƒåœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œå°±æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒéœ€è¦è¿½è¸ªå¤šç§å‡è®¾çš„ç±»å‹ã€‚

## Repetition with Loops
Rustæœ‰ä¸‰ç§å¾ªç¯çš„æ–¹å¼ï¼š`loop`ï¼Œ`while`å’Œ`for`ã€‚

### Repeating Code with `loop`
```rust
fn main() {
	loop {
		println!("again!");
	}
}
```
è¿™ä¼šå¼€å¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œä½ å¯ä»¥é€šè¿‡`ctrl + c`æ¥ä¸­æ–­å®ƒã€‚ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡`break / continue`æ¥è¿›è¡Œæ§åˆ¶ã€‚

### Returning Values from Loops
`loop`çš„ä¸€ä¸ªç”¨é€”æ˜¯ç”¨æ¥é‡è¯•å¯èƒ½å‡ºç°å¤±è´¥çš„æ“ä½œï¼Œä¾‹å¦‚æ£€æŸ¥ä¸€ä¸ªçº¿ç¨‹æ˜¯å¦å®Œæˆäº†å®ƒçš„å·¥ä½œã€‚ä½ å¯èƒ½è¿˜éœ€è¦å°†æ“ä½œçš„ç»“æœä¼ é€’åˆ°å¾ªç¯å¤–çš„ä½œç”¨åŸŸä¸­ï¼Œä»¥ä¾›ä»£ç çš„å…¶ä½™éƒ¨åˆ†è¿›è¡Œä½¿ç”¨ã€‚ä¸ºæ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨`break`è¡¨è¾¾å¼åœæ­¢å¾ªç¯å¹¶æ·»åŠ ä½ æƒ³è¦è¿”å›çš„å€¼ï¼š
```rust
fn main() {
	let mut counter = 0;

	let result = loop {
		counter += 1;

		if counter == 10 {
			break counter * 2;
		}
	};

	println!("The result is {result}");
}
```
åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`result`ä¼šè¢«èµ‹å€¼ä¸º`20`ã€‚

### Loop Labels to Disambiguate Between Multiple Loops
åœ¨å¤šå±‚å¾ªç¯åµŒå¥—çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥ç”¨`loop label`ä¸`break/continue`ç»“åˆä½¿ç”¨çš„æ–¹å¼å®ç°çµæ´»çš„å¾ªç¯æ§åˆ¶ã€‚åœ¨Rustä¸­ï¼Œå¾ªç¯çš„æ ‡ç­¾å¿…é¡»ä»¥å•å¼•å·å¼€å¤´ï¼š
```rust
fn main() {
	let mut count = 0;
	'counting_up: loop {
		println!("count = {count}");
		let mut remaining = 10;

		loop {
			println!("remaining = {remaining}");
			if remaining == 9 {
				break;
			}
			if count == 2 {
				break 'counting_up;
			}
			remaining -= 1;
		}

		count += 1;
	}
	println!("End count = {count}");
}
```
åœ¨è¿™é‡Œç»™å¤–å±‚çš„å¾ªç¯æ ‡è®°äº†æ ‡ç­¾ä¸º`'counting_up`ï¼Œåœ¨å†…å±‚éœ€è¦é€€å‡ºå¤–å±‚å¾ªç¯æ—¶å°±å¯ä»¥ç›´æ¥`break 'counting_up`ã€‚

### Conditional Loops with `while`
`loop`éœ€è¦ç”¨`break`æ‰èƒ½é€€å‡ºå¾ªç¯ï¼Œè€Œ`while`åˆ™å¯ä»¥ç›´æ¥é€‚é…æ¡ä»¶åˆ¤æ–­ï¼Œä¸å…¶ä»–è¯­è¨€ä¸­çš„`while`ç›¸åŒï¼š
```rust
fn main() {
	let mut number = 3;

	while number != 0 {
		println!("{number}!");
		
		number -= 1;
	}

	println!("LIFTOFF!!!");
}
```

### Looping Through a Collection with `for`
å½“ä½ è¦éå†ä¸€ä¸ªé›†åˆæ—¶ï¼Œ`while`å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯å®ƒæ›´å®¹æ˜“äº§ç”Ÿæ•°ç»„è¶Šç•Œç­‰é”™è¯¯ã€‚`for`æ˜¯ä¸€ç§æ›´å®‰å…¨ä¸”æ›´ä¼˜é›…çš„éå†æ–¹å¼ï¼š
```rust
fn main() {
	let a = [10, 20, 30, 40, 50];

	for element in a {
		println!("the value is: {element}");
	}
}
```
å¦ä¸€ä¸ªåå‘éå†é›†åˆå­é›†çš„ä¾‹å­ï¼š
```rust
fn main() {
	for number in (1..4).rev() {
		println!("{number}!");
	}
	println!("LIFTOFF!!!");
}
```

# Summary
åœ¨æœ¬ç¯‡ä¸­ï¼Œæˆ‘ä»¬å¿«é€Ÿè¿‡äº†ä¸€éRustä¸­çš„ä¸€äº›åŸºç¡€å†…å®¹ï¼ŒåŒ…æ‹¬å˜é‡å®šä¹‰ã€æ¡ä»¶è¯­å¥ã€å¾ªç¯è¯­å¥ç­‰ç­‰ã€‚åœ¨ä¸‹ä¸€ç« æˆ‘ä»¬å°†å¼€å§‹å­¦ä¹ Rustä¸­çš„ä¸€ç§ç‰¹æ€§â€”â€”â€œæ‰€æœ‰æƒâ€ã€‚